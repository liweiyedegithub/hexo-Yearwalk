---
title: 使用Dokcer快速搭建DB2 V10.5版本
date: 2024-03-18 16:17:54
tags: "
  - Docker
  - DB2
top: false
categories: 
  - 数据库快速部署
---
# 使用Dokcer快速搭建DB2 V10.5版本
***安装前提需要已安装docker、docker-compose服务*** [docker、docker-compose在线、离线安装](https://blog.csdn.net/weixin_45494811)
## 在线加载镜像并运行
``` bash
#拉取镜像
docker pull maketechnology/db2:10.5.0.5
#运行镜像并开放端口
docker run -itd --name db2_10_container --privileged=true -p 50000:50000 -e LICENSE=accept -e DB2INST1_PASSWORD=123456789 -e DBNAME=testdb01 maketechnology/db2:10.5.0.5

```
## 离线加载镜像  
需要将镜像手动加载
[天翼云盘-Oracle11g 镜像下载连接](https://cloud.189.cn/t/QR3aU3BVjQRf（访问码：kx9h）)
``` bash
#加载镜像
docker load -i db2V10.5.tar
#为镜像打tag
docker tag d92ac271fce1  maketechnology/db2:10.5.0.5
```
## 镜像加载后启动
``` bash
#进入容器
docker exec -it db2_10_container bash
#切换用户
su - db2inst1
#启动DB2
db2start
#创建测试数据库MYDB
db2 create database MYDB USING CODESET UTF-8 TERRITORY CN
#展示数据库列表
db2 list db directory
#测试数据库是否正常
db2 activate db MYDB
db2 connect to MYDB
exit
#创建链接用户
useradd -m testuser -g db2iadm1
passwd testuser
su - db2inst1
db2 connect to MYDB
#授权testuser 用户权限
db2 GRANT CONNECT ON DATABASE TO USER testuser;
db2 GRANT DBADM ON DATABASE TO USER testuser;  
db2 CREATE SCHEMA TESTSCHEMA AUTHORIZATION testuser;
db2 GRANT CONNECT ON DATABASE TO USER testuser
```